---
# --------------------------------------------------------------------------------------------------
# global | mqtt
# --------------------------------------------------------------------------------------------------
mqtt:
  host: "${MQTT_ADDRESS}"
  port: 1883
  user: "${SECRET_MQTT_USERNAME}"
  password: "${SECRET_MQTT_PASSWORD}"
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# global | detectors
# --------------------------------------------------------------------------------------------------
detectors:
  coral:
    type: edgetpu
    device: usb
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# global | database
# --------------------------------------------------------------------------------------------------
database:
  path: /data/frigate.db
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# global | ffmpeg
# --------------------------------------------------------------------------------------------------
ffmpeg:
  hwaccel_args:
    - -hwaccel
    - vaapi
    - -hwaccel_device
    - /dev/dri/renderD128
    - -hwaccel_output_format
    - yuv420p
  output_args:
    record:
      - -f segment
      - -segment_time 10
      - -segment_format mp4
      - -reset_timestamps 1
      - -strftime 1
      - -c:v copy
      - -ar 44100
      - -c:a aac
    rtmp:
      - -c:v copy
      - -f flv
      - -ar 44100
      - -c:a aac
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# global | snapshots
# --------------------------------------------------------------------------------------------------
snapshots:
  enabled: true
  timestamp: false
  bounding_box: true
  retain:
    default: 7
# ==================================================================================================

cameras:
# --------------------------------------------------------------------------------------------------
# camera | back porch
# --------------------------------------------------------------------------------------------------
  frigate_back_porch:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/9rjrmfiO4vikAIv5?enableSrtp"
          roles:
            - record
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/ncheQTiEjSTRAKoA?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
    objects:
      track:
        - bicycle
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
    zones:
      back-porch-zone:
        coordinates: 0,0,0,576,837,576,749,0
        objects:
          - bicycle
          - dog
          - person
      back-yard-zone:
        coordinates: 837,576,1024,576,1024,0,749,0
        objects:
          - bicycle
          - dog
          - person
      entire-yard-zone:
        coordinates: 837,576,1024,576,1024,0,749,0
        objects:
          - bicycle
          - dog
          - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | back side yard east
# --------------------------------------------------------------------------------------------------
  frigate_back_side_yard_east:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/3GhpQKAHuEwdKt1L?enableSrtp"
          roles:
            - record
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/nwBvKItQMbFbSsnn?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
    objects:
      track:
        - bicycle
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
    zones:
      back-yard-zone:
        coordinates: 0,576,1024,576,1024,161,414,31,0,39
        objects:
          - bicycle
          - dog
          - person
      entire-yard-zone:
        coordinates: 0,576,1024,576,1024,161,414,31,0,39
        objects:
          - bicycle
          - dog
          - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | back side yard west
# --------------------------------------------------------------------------------------------------
  frigate_back_side_yard_west:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/Yp6cvhUbWGddZftR?enableSrtp"
          roles:
            - record
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/JaXpUinPAdqfPuNI?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
    objects:
      track:
        - bicycle
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
    zones:
      back-yard-zone:
        coordinates: 0,576,1024,576,1024,62,844,49,0,270
        objects:
          - bicycle
          - dog
          - person
      entire-yard-zone:
        coordinates: 0,576,1024,576,1024,62,844,49,0,270
        objects:
          - bicycle
          - dog
          - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | back yard east
# --------------------------------------------------------------------------------------------------
  frigate_back_yard_east:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/nDg952brQmpDyQpV?enableSrtp"
          roles:
            - record
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/PHUs74Co8Tmi4ukf?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
    objects:
      track:
        - bicycle
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
    zones:
      back-yard-zone:
        coordinates: 0,576,1024,576,1024,92,700,58,689,0,510,0,472,49,142,57
        objects:
          - bicycle
          - dog
          - person
      entire-yard-zone:
        coordinates: 0,576,1024,576,1024,92,700,58,689,0,510,0,472,49,142,57
        objects:
          - bicycle
          - dog
          - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | back yard west
# --------------------------------------------------------------------------------------------------
  frigate_back_yard_west:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/r1VOzDfEw7qHCxan?enableSrtp"
          roles:
            - record
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/o0vG2B9uPf3tcnyU?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
    objects:
      track:
        - bicycle
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
    zones:
      back-yard-zone:
        coordinates: 0,576,1024,576,803,95,376,108,0,158
        objects:
          - bicycle
          - dog
          - person
      entire-yard-zone:
        coordinates: 0,576,1024,576,803,95,376,108,0,158
        objects:
          - bicycle
          - dog
          - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | driveway
# --------------------------------------------------------------------------------------------------
  frigate_driveway:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/PLRgCzMZyaUNNvLK?enableSrtp"
          roles:
            - record
            - rtmp
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/gKdGjLhqS7Lo8u0q?enableSrtp"
          roles:
            - detect
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
    objects:
      track:
        - bicycle
        - car
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
    zones:
      driveway-zone:
        coordinates: 315,104,784,104,992,576,0,576
        objects:
          - bicycle
          - car
          - person
      entire-yard-zone:
        coordinates: 0,576,1024,576,1024,204,0,195
        objects:
          - bicycle
          - dog
          - person
      front-yard-zone:
        coordinates: 0,576,1024,576,1024,204,0,195
        objects:
          - bicycle
          - dog
          - person
      sidewalk-zone:
        coordinates: 0,113,0,198,1024,209,1024,115
        objects:
          - bicycle
          - dog
          - person
      street-zone:
        coordinates: 0,113,1024,115,1024,0,0,0
        objects:
          - bicycle
          - car
          - dog
          - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | front door
# --------------------------------------------------------------------------------------------------
  frigate_front_door:
    ffmpeg:
      inputs:
        # High (1600x1200)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/BkoLvCjvhphS7FQ5?enableSrtp"
          roles:
            - record
        # Medium (960x720)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/dfsiwxmeWkdRHWiX?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 960
      height: 720
      fps: 5
    motion:
      mask:
        - 0,0,0,60,200,60,200,0 # timestamp
        - 314,162,288,182,194,0,286,0 # door top light
        - 960,300,612,322,612,402,647,407,649,381,960,420 # sidewalk and street
    objects:
      track:
        - bicycle
        - car
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: true
      bounding_box: false
    zones:
      approach-zone:
        coordinates: 889,449,701,409,716,509,919,607,960,462
        objects:
          - person
      entire-yard-zone:
        coordinates: 417,547,719,485,924,549,931,431,681,389,393,432
        objects:
          - bicycle
          - dog
          - person
      front-porch-zone:
        coordinates: 0,128,376,127,375,446,723,414,960,454,960,720,0,720
        objects:
          - bicycle
          - dog
          - person
      front-yard-zone:
        coordinates: 417,547,719,485,924,549,931,431,681,389,393,432
        objects:
          - bicycle
          - dog
          - person
      garden-zone:
        coordinates: 663,464,605,397,389,411,396,541
        objects:
          - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | front porch
# --------------------------------------------------------------------------------------------------
  frigate_front_porch:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/ovfxp7TjO8wnlAE5?enableSrtp"
          roles:
            - record
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/KCJwfncYnOsnesQZ?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
    objects:
      track:
        - bicycle
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | front side yard east
# --------------------------------------------------------------------------------------------------
  frigate_front_side_yard_east:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/4wG8579z6TKf7AW4?enableSrtp"
          roles:
            - record
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/vrnJmvBnU6doeoZA?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
    objects:
      track:
        - bicycle
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
    zones:
      entire-yard-zone:
        coordinates: 1024,576,1024,0,645,79,586,119,608,256,188,576
        objects:
          - bicycle
          - dog
          - person
      front-yard-zone:
        coordinates: 1024,576,1024,0,645,79,586,119,608,256,188,576
        objects:
          - bicycle
          - dog
          - person
      street-zone:
        coordinates: 94,97,981,102,970,135,107,156
        objects:
          - bicycle
          - car
          - dog
          - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | front side yard west
# --------------------------------------------------------------------------------------------------
  frigate_front_side_yard_west:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/w8WdgHa3iJ9CtZ2H?enableSrtp"
          roles:
            - record
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/94S03tiSKTohcds2?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
    objects:
      track:
        - bicycle
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
    zones:
      entire-yard-zone:
        coordinates: 0,576,1024,576,1024,326,572,161,546,0,0,0
        objects:
          - bicycle
          - dog
          - person
      front-yard-zone:
        coordinates: 0,576,1024,576,1024,326,572,161,546,0,0,0
        objects:
          - bicycle
          - dog
          - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | front yard
# --------------------------------------------------------------------------------------------------
  frigate_front_yard:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/iMCRQRk6KJTplJ8v?enableSrtp"
          roles:
            - record
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/uH3It6wAtdB7AOCs?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
        - 86,52,956,76,981,95,99,96 # far sidewalk
        - 1024,126,848,145,960,163 # neighbor driveway
    objects:
      track:
        - bicycle
        - car
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
    zones:
      approach-zone:
        coordinates: 419,371,709,377,959,331,636,223,123,281
        objects:
          - person
      entire-yard-zone:
        coordinates: 119,576,1024,576,1024,236,734,160,110,190
        objects:
          - bicycle
          - dog
          - person
      front-yard-zone:
        coordinates: 119,576,1024,576,1024,236,734,160,110,190
        objects:
          - bicycle
          - dog
          - person
      sidewalk-zone:
        coordinates: 103,153,856,130,876,150,108,191
        objects:
          - bicycle
          - dog
          - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | garage
# --------------------------------------------------------------------------------------------------
  frigate_garage:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/WuwQ9P7ztJhaEaby?enableSrtp"
          roles:
            - record
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/RTfaZKpjCy1KeJOl?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
    objects:
      track:
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | street east
# --------------------------------------------------------------------------------------------------
  frigate_street_east:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/dk0G7TaMvDNcVN2t?enableSrtp"
          roles:
            - record
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/HVGfCkPEmcvwwFkw?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
        - 0,107,1024,82,1024,118,0,162 # far sidewalk
        - 535,189,1024,116,1024,304 # neighbor driveway
    objects:
      track:
        - bicycle
        - car
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
    zones:
      entire-yard-zone:
        coordinates: 0,576,1024,576,1024,495,461,232,0,276
        objects:
          - bicycle
          - dog
          - person
      front-yard-zone:
        coordinates: 0,576,1024,576,1024,495,461,232,0,276
        objects:
          - bicycle
          - dog
          - person
      sidewalk-zone:
        coordinates: 678,174,689,201,0,279,0,237
        objects:
          - bicycle
          - dog
          - person
      street-zone:
        coordinates: 0,164,619,131,701,176,0,236
        objects:
          - bicycle
          - car
          - dog
          - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | street west
# --------------------------------------------------------------------------------------------------
  frigate_street_west:
    ffmpeg:
      inputs:
        # High (1920x1080)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/kfBdhgaaVEBNMnNI?enableSrtp"
          roles:
            - record
        # Medium (1024x576)
        - path: "rtsps://${UNIFI_PROTECT_ADDRESS}:7441/InrynFoRDt7LWp37?enableSrtp"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 5
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
        - 1024,0,454,0,417,89,1024,72 # far sidewalk
        - 308,194,62,146,0,164,0,278 # neighbor yard
    objects:
      filters:
        bicycle:
          mask:
        car:
          mask:
        dog:
          mask:
        person:
          mask:
      track:
        - bicycle
        - car
        - dog
        - person
    record:
      enabled: false
    rtmp:
      enabled: false
    snapshots:
      enabled: false
    zones:
      entire-yard-zone:
        coordinates: 192,576,748,237,1024,260,1024,576
        objects:
          - bicycle
          - dog
          - person
      front-yard-zone:
        coordinates: 192,576,748,237,1024,260,1024,576
        objects:
          - bicycle
          - dog
          - person
      sidewalk-zone:
        coordinates: 1024,183,499,156,404,198,1024,266
        objects:
          - bicycle
          - dog
          - person
      street-zone:
        coordinates: 441,156,537,77,1024,58,1024,184
        objects:
          - bicycle
          - car
          - dog
          - person
# ==================================================================================================
