---
autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 50

config:
  group: default
  host: cribl-leader-internal
  token: "${SECRET_CRIBL_LEADER_SECRET}"

criblImage:
  repository: cribl/cribl
  tag: 3.5.2

nameOverride: "cribl-stream-worker"

resources:
  limits:
    cpu: 2000m
    memory: 2048Mi
  requests:
    cpu: 500m
    memory: 256Mi

service:
  annotations:
    metallb.universe.tf/allow-shared-ip: cribl-worker
  loadBalancerIP: "${SVC_CRIBL_WORKER_ADDRESS}"
  ports:
    - name: syslog-tcp
      port: 9514
      protocol: TCP
    - name: syslog-udp
      port: 9514
      protocol: UDP
    - name: syslog-unifi
      port: 9520
      protocol: UDP
