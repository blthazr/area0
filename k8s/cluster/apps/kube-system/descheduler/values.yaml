---
deschedulerPolicy:
  strategies:
    LowNodeUtilization:
      enabled: false
    RemoveDuplicates:
      enabled: true
    RemoveFailedPods:
      enabled: true
      params:
        failedPods:
          includingInitContainers: true
          excludeOwnerKinds:
            - "Job"
          minPodLifetimeSeconds: 3600
    RemovePodsHavingTooManyRestarts:
      enabled: true
      params:
        podsHavingTooManyRestarts:
          podRestartThreshold: 100
          includingInitContainers: true
    RemovePodsViolatingInterPodAntiAffinity:
      enabled: true
      params:
        nodeFit: true
    RemovePodsViolatingNodeAffinity:
      enabled: true
      params:
        nodeAffinityType:
          - requiredDuringSchedulingIgnoredDuringExecution
    RemovePodsViolatingNodeTaints:
      enabled: true
    RemovePodsViolatingTopologySpreadConstraint:
      enabled: true
      params:
        includeSoftConstraints: true
kind: Deployment
podAnnotations:
  configmap.reloader.stakater.com/reload: descheduler
