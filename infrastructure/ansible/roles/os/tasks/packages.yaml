# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   @file           :   tasks/packages.yaml
#   @description    :   [called externally] configure packages
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
---
- name: main | include roles
  ansible.builtin.include_role:
    name: "{{ include_roles }}"
  loop:
    - os-identification
  loop_control:
    loop_var: include_roles

- name: "{{ ansible_os_family }} | main | include package tasks"
  ansible.builtin.include_tasks: "{{ ansible_os_family }}/{{ package_tasks }}"
  loop:
    - packages.yaml
  loop_control:
    loop_var: package_tasks
  when: ansible_os_family != 'NA'
