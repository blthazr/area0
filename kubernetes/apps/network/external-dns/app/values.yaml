---
nameOverride: &app external-dns
domainFilters:
  - "${SECRET_DOMAIN}"
env:
  - name: CF_API_TOKEN
    valueFrom:
      secretKeyRef:
        name: external-dns-cloudflare-api
        key: api-token
extraArgs:
  - --cloudflare-proxied
  - --annotation-filter=external-dns.home.arpa/enabled in (true)
interval: 2m
podAnnotations:
  secret.reloader.stakater.com/reload: external-dns-cloudflare-api
policy: sync
provider: cloudflare
resources:
  limits:
    memory: 250Mi
  requests:
    cpu: 25m
    memory: 100Mi
sources:
  - ingress
txtOwnerId: "default"
txtPrefix: "k8s."
