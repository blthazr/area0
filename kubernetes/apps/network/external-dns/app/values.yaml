---
nameOverride: &app external-dns
domainFilters:
  - "${SECRET_DOMAIN}"
env:
  - name: CF_API_TOKEN
    valueFrom:
      secretKeyRef:
        name: external-dns-cloudflare-api
        key: api-token
extraArgs:
  - --annotation-filter=external-dns.home.arpa/enabled in (true)
  - --cloudflare-proxied
  - --crd-source-apiversion=externaldns.k8s.io/v1alpha1
  - --crd-source-kind=DNSEndpoint
policy: sync
provider: cloudflare
serviceMonitor:
  enabled: false
sources:
  - crd
  - ingress
txtOwnerId: default
txtPrefix: k8s.
