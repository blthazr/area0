---
# --------------------------------------------------------------------------------------------------
# global | mqtt
# --------------------------------------------------------------------------------------------------
mqtt:
  host: 172.16.30.20
  port: 1883
  user: "{FRIGATE_MQTT_USER}"
  password: "{FRIGATE_MQTT_PASSWORD}"
  topic_prefix: frigate
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# global | detectors
# --------------------------------------------------------------------------------------------------
detectors:
  coral:
    type: edgetpu
    device: usb
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# global | database
# --------------------------------------------------------------------------------------------------
database:
  path: /data/frigate.db
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# global | ffmpeg
# --------------------------------------------------------------------------------------------------
ffmpeg:
  global_args:
    - -hide_banner
    - -loglevel
    - warning
  hwaccel_args:
    - -hwaccel
    - vaapi
    - -hwaccel_device
    - /dev/dri/renderD128
    - -hwaccel_output_format
    - yuv420p
  output_args:
    record:
      - -f
      - segment
      - -segment_time
      - 10
      - -segment_format
      - mp4
      - -reset_timestamps
      - 1
      - -strftime
      - 1
      - -map
      - 0:v:0
      - -map
      - 0:a:0
      - -c
      - copy
    rtmp:
      - -c:v
      - copy
      - -f
      - flv
      - -ar
      - 44100
      - -c:a
      - aac
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# global | objects
# --------------------------------------------------------------------------------------------------
objects:
  track:
    - "person"
  filters:
    person:
      min_area: 5000
      max_area: 100000
      threshold: 0.7
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# global | record
# --------------------------------------------------------------------------------------------------
record:
  enabled: false
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# global | rtmp
# --------------------------------------------------------------------------------------------------
rtmp:
  enabled: false
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# global | snapshots
# --------------------------------------------------------------------------------------------------
snapshots:
  enabled: false
  timestamp: false
  bounding_box: true
  retain:
    default: 7
# ==================================================================================================

cameras:
# --------------------------------------------------------------------------------------------------
# camera | back porch
# --------------------------------------------------------------------------------------------------
  frigate_back_porch:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_back_porch
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/9rjrmfiO4vikAIv5"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/ncheQTiEjSTRAKoA"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 10
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | back side yard east
# --------------------------------------------------------------------------------------------------
  frigate_back_side_yard_east:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_back_side_yard_east
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/3GhpQKAHuEwdKt1L"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/nwBvKItQMbFbSsnn"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 10
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | back side yard west
# --------------------------------------------------------------------------------------------------
  frigate_back_side_yard_west:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_back_side_yard_west
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/Yp6cvhUbWGddZftR"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/JaXpUinPAdqfPuNI"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 10
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | back yard east
# --------------------------------------------------------------------------------------------------
  frigate_back_yard_east:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_back_yard_east
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/nDg952brQmpDyQpV"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/PHUs74Co8Tmi4ukf"
          roles:
            - detect
            - rtmp
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | back yard west
# --------------------------------------------------------------------------------------------------
  frigate_back_yard_west:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_back_yard_west
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/r1VOzDfEw7qHCxan"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/o0vG2B9uPf3tcnyU"
          roles:
            - detect
            - rtmp
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
    objects:
      track:
        - bicycle
        - dog
        - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | driveway
# --------------------------------------------------------------------------------------------------
  frigate_driveway:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_driveway
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/PLRgCzMZyaUNNvLK"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/gKdGjLhqS7Lo8u0q"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 10
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | front door
# --------------------------------------------------------------------------------------------------
  frigate_front_door:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_front_door
          roles:
            - record
        # High (1600x1200)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/BkoLvCjvhphS7FQ5"
          roles:
            - restream
        # Medium (960x720)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/dfsiwxmeWkdRHWiX"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 960
      height: 720
      fps: 10
    motion:
      mask:
        - 0,0,0,60,200,60,200,0 # timestamp
        - 314,162,288,182,194,0,286,0 # door top light
        - 960,300,612,322,612,402,647,407,649,381,960,420 # sidewalk and street
    snapshots:
      enabled: true
      bounding_box: false
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | front porch
# --------------------------------------------------------------------------------------------------
  frigate_front_porch:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_front_porch
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/ovfxp7TjO8wnlAE5"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/KCJwfncYnOsnesQZ"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 10
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | front side yard east
# --------------------------------------------------------------------------------------------------
  frigate_front_side_yard_east:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_front_side_yard_east
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/4wG8579z6TKf7AW4"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/vrnJmvBnU6doeoZA"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 10
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | front side yard west
# --------------------------------------------------------------------------------------------------
  frigate_front_side_yard_west:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_front_side_yard_west
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/w8WdgHa3iJ9CtZ2H"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/94S03tiSKTohcds2"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 10
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | front yard
# --------------------------------------------------------------------------------------------------
  frigate_front_yard:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_front_yard
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/iMCRQRk6KJTplJ8v"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/uH3It6wAtdB7AOCs"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 10
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
        - 86,52,956,76,981,95,99,96 # far sidewalk
        - 1024,126,848,145,960,163 # neighbor driveway
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | garage
# --------------------------------------------------------------------------------------------------
  frigate_garage:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_garage
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/WuwQ9P7ztJhaEaby"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/RTfaZKpjCy1KeJOl"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 10
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | street east
# --------------------------------------------------------------------------------------------------
  frigate_street_east:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_street_east
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/dk0G7TaMvDNcVN2t"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/HVGfCkPEmcvwwFkw"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 10
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
        - 0,107,1024,82,1024,118,0,162 # far sidewalk
        - 535,189,1024,116,1024,304 # neighbor driveway
    objects:
      track:
        - bicycle
        - car
        - dog
        - person
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
# camera | street west
# --------------------------------------------------------------------------------------------------
  frigate_street_west:
    ffmpeg:
      inputs:
        - path: rtsp://localhost:8554/frigate_street_west
          roles:
            - record
        # High (1920x1080)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/kfBdhgaaVEBNMnNI"
          roles:
            - restream
        # Medium (1024x576)
        - path: "rtsp://{FRIGATE_UNIFI_PROTECT_ADDRESS}:7447/InrynFoRDt7LWp37"
          roles:
            - detect
            - rtmp
    detect:
      enabled: true
      width: 1024
      height: 576
      fps: 10
    motion:
      mask:
        - 0,0,0,45,190,45,190,0 # timestamp
        - 1024,0,454,0,417,89,1024,72 # far sidewalk
        - 308,194,62,146,0,164,0,278 # neighbor yard
# ==================================================================================================
