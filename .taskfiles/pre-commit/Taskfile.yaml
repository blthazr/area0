---
# yaml-language-server: $schema=https://taskfile.dev/schema.json
version: "3"

tasks:

  # task pre-commit:init
  init:
    desc: Initialize pre-commit hooks
    cmds:
      - pre-commit install
      - pre-commit install-hooks
      - pre-commit install --install-hooks
    preconditions:
      - { msg: "pre-commit not in $PATH", sh: "command -v pre-commit" }

  # task pre-commit:update
  update:
    desc: Update pre-commit config to each repos' latest version
    cmds:
      - pre-commit autoupdate
    preconditions:
      - { msg: "pre-commit not in $PATH", sh: "command -v pre-commit" }

  # task pre-commit:run
  run:
    desc: Run pre-commit on all files
    cmds:
      - pre-commit run --all-files
    preconditions:
      - { msg: "pre-commit not in $PATH", sh: "command -v pre-commit" }
